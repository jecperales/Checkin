@{ ViewBag.Title = "chekAsistencia"; }


<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<link href='https://fonts.googleapis.com/css?family=Raleway:600,700' rel='stylesheet' type='text/css'>
<style>

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    html, body {
        height: 100%;
    }

    body {
        background: lightblue;
        font-size: 16px;
        color: #fff;
        text-align: center;
    }

    .contenedor {
        width: 90%;
        height: 100%;
        position: relative;
        max-width: 1000px;
        margin: auto;
        background: #ccc;
    }

    .widget {
        width: 40%;
        height: 40%;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
    }

        .widget p {
            display: inline-block;
            line-height: 1em;
        }

    .fecha {
        font-family: arial;
        text-align: center;
        font-size: 2vw;
        color: whitesmoke;
        margin-bottom: 5px;
        background: rgba(0,66,56,.5);
        padding: 20px;
        width: 100%;
    }

    .reloj {
        font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
        width: 100%;
        padding: 20px;
        font-size: 4em;
        text-align: center;
        background: rgba(0,0,0,.5);
    }

        .reloj .cajaSegundos {
            display: inline-block;
        }

        .reloj .ampm, .reloj .segundos {
            display: block;
            font-size: 2rem;
        }



    #clock {
        text-align: center;
        /*margin-top: 10%;*/
        font-size: 3vw;
        font-family: Baskerville, Georgia;
        color: whitesmoke;
    }



    .container-fluid,
    .container {
        max-width: 1200px;
    }

    .card-container {
        padding: 100px 0px;
        -webkit-perspective: 1000;
        perspective: 1000;
    }

    .profile-card-1 {
        background-color: #FFF;
        border-radius: 10px;
        box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.1);
        background-image: url(../img/profile-bg-1.jpg);
        background-position: center;
        padding-top: 100px;
        overflow: hidden;
        position: relative;
        margin: 10px auto;
        cursor: pointer;
        max-width: 300px;
    }

        .profile-card-1 .profile-content {
            position: relative;
            background-color: #FFF;
            padding: 70px 20px 20px 20px;
            text-align: center;
        }

        .profile-card-1 .profile-img {
            position: absolute;
            height: 100px;
            left: 0px;
            right: 0px;
            z-index: 10;
            top: -50px;
            transition: all 0.25s linear;
            transform-style: preserve-3d;
        }

            .profile-card-1 .profile-img img {
                height: 100px;
                margin: auto;
                border-radius: 50%;
                border: 5px solid #FFF;
                box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
            }

        .profile-card-1 .profile-name {
            font-size: 18px;
            font-weight: bold;
            color: #021830;
        }

        .profile-card-1 .profile-address {
            color: #777;
            font-size: 12px;
            margin: 0px 0px 15px 0px;
        }

        .profile-card-1 .profile-description {
            font-size: 13px;
            padding: 5px 10px;
            color: #777;
        }

        .profile-card-1 .profile-icons .fa {
            margin: 5px;
            color: #777;
        }

        .profile-card-1:hover {
            box-shadow: 0px 0px 50px rgba(0, 0, 0, 0.1);
        }

            .profile-card-1:hover .profile-img {
                transform: rotateY(180deg);
            }

    .profile-card-2 {
        max-width: 300px;
        background-color: #FFF;
        box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.1);
        background-position: center;
        overflow: hidden;
        position: relative;
        margin: 10px auto;
        cursor: pointer;
        border-radius: 10px;
    }

        .profile-card-2 img {
            transition: all linear 0.25s;
        }

        .profile-card-2 .profile-name {
            position: absolute;
            left: 30px;
            bottom: 70px;
            font-size: 30px;
            color: #FFF;
            text-shadow: 0px 0px 20px rgba(0, 0, 0, 0.5);
            font-weight: bold;
            transition: all linear 0.25s;
        }

        .profile-card-2 .profile-icons {
            position: absolute;
            bottom: 30px;
            right: 30px;
            color: #FFF;
            transition: all linear 0.25s;
        }

        .profile-card-2 .profile-username {
            position: absolute;
            bottom: 50px;
            left: 30px;
            color: #FFF;
            font-size: 13px;
            transition: all linear 0.25s;
        }

        .profile-card-2 .profile-icons .fa {
            margin: 5px;
        }

        .profile-card-2:hover img {
            filter: grayscale(100%);
        }

        .profile-card-2:hover .profile-name {
            bottom: 80px;
        }

        .profile-card-2:hover .profile-username {
            bottom: 60px;
        }

        .profile-card-2:hover .profile-icons {
            right: 40px;
        }

    .profile-card-3 {
        background-color: #FFF;
        border-radius: 5px;
        box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        position: relative;
        margin: 10px auto;
        cursor: pointer;
        padding: 25px 15px;
    }

        .profile-card-3 .profile-name {
            font-weight: bold;
            color: #21304e;
        }

        .profile-card-3 .profile-location {
            color: #999;
            font-size: 13px;
            font-weight: 600;
        }

        .profile-card-3 img {
            height: 100px;
            width: 100px;
            object-fit: cover;
            margin: 10px auto;
            border-radius: 50%;
            transition: all linear 0.25s;
        }

        .profile-card-3 .profile-description {
            font-size: 13px;
            color: #777;
            padding: 10px;
        }

        .profile-card-3 .profile-icons {
            margin: 15px 0px;
        }

            .profile-card-3 .profile-icons .fa {
                color: #fe455a;
                margin: 0px 5px;
            }

        .profile-card-3:hover img {
            height: 110px;
            width: 110px;
            margin: 5px auto;
        }

    .profile-card-4 {
        max-width: 300px;
        background-color: #FFF;
        border-radius: 5px;
        box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        position: relative;
        margin: 10px auto;
        cursor: pointer;
    }

        .profile-card-4 img {
            transition: all 0.25s linear;
        }

        .profile-card-4 .profile-content {
            position: relative;
            padding: 15px;
            background-color: #FFF;
        }

        .profile-card-4 .profile-name {
            font-weight: bold;
            position: absolute;
            left: 0px;
            right: 0px;
            top: -70px;
            color: #FFF;
            font-size: 17px;
        }

            .profile-card-4 .profile-name p {
                font-weight: 600;
                font-size: 13px;
                letter-spacing: 1.5px;
            }

        .profile-card-4 .profile-description {
            color: #777;
            font-size: 12px;
            padding: 10px;
        }

        .profile-card-4 .profile-overview {
            padding: 15px 0px;
        }

            .profile-card-4 .profile-overview p {
                font-size: 10px;
                font-weight: 600;
                color: #777;
            }

            .profile-card-4 .profile-overview h4 {
                color: #273751;
                font-weight: bold;
            }

        .profile-card-4 .profile-content::before {
            content: "";
            position: absolute;
            height: 20px;
            top: -10px;
            left: 0px;
            right: 0px;
            background-color: #FFF;
            z-index: 0;
            transform: skewY(3deg);
        }

        .profile-card-4:hover img {
            transform: rotate(5deg) scale(1.1, 1.1);
            filter: brightness(110%);
        }

    .profile-card-5 {
        max-width: 300px;
        background-color: #FFF;
        border-radius: 5px;
        box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        position: relative;
        margin: 10px auto;
        cursor: pointer;
        padding: 50px 15px 25px 15px;
    }

        .profile-card-5 img {
            height: 100px;
            width: 100px;
            object-fit: cover;
            margin: 10px auto;
            border-radius: 50%;
            transition: all linear 0.25s;
            position: relative;
        }

        .profile-card-5::before {
            content: "";
            position: absolute;
            top: -60px;
            right: 0px;
            left: 0px;
            height: 170px;
            background-color: #4fb96e;
            transform: skewY(-20deg);
        }

        .profile-card-5 .profile-name {
            padding-top: 15px;
            font-weight: bold;
            color: #333;
        }

        .profile-card-5 .profile-designation {
            font-size: 13px;
            color: #777;
        }

    .profile-card-3 .profile-location {
        color: #999;
        font-size: 13px;
        font-weight: 600;
    }

    .profile-card-5 .profile-description {
        font-size: 13px;
        color: #777;
        padding: 10px;
    }

    .profile-card-5 .profile-overview {
        padding: 15px 0px;
    }

        .profile-card-5 .profile-overview p {
            color: #777;
            font-size: 13px;
        }

        .profile-card-5 .profile-overview h2 {
            font-weight: bold;
            color: #1e2832;
        }

    .profile-card-5 .profile-icons .fa {
        margin: 7px;
        color: #4fb96e;
    }

    .profile-card-5:hover img {
        transform: rotate(-5deg);
    }

    .profile-card-6 {
        max-width: 300px;
        background-color: #FFF;
        border-radius: 5px;
        box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        position: relative;
        margin: 10px auto;
        cursor: pointer;
    }

        .profile-card-6 img {
            transition: all 0.15s linear;
        }

        .profile-card-6 .profile-name {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 25px;
            font-weight: bold;
            color: #FFF;
            padding: 15px 20px;
            background: linear-gradient(140deg, rgba(0, 0, 0, 0.4) 50%, rgba(255, 255, 0, 0) 50%);
            transition: all 0.15s linear;
        }

        .profile-card-6 .profile-position {
            position: absolute;
            color: rgba(255, 255, 255, 0.4);
            left: 30px;
            top: 100px;
            transition: all 0.15s linear;
        }

        .profile-card-6 .profile-overview {
            position: absolute;
            bottom: 0px;
            left: 0px;
            right: 0px;
            background: linear-gradient(0deg, rgba(0, 0, 0, 0.4) 50%, rgba(255, 255, 0, 0));
            color: #FFF;
            padding: 50px 0px 20px 0px;
            transition: all 0.15s linear;
        }

            .profile-card-6 .profile-overview h3 {
                font-weight: bold;
            }

            .profile-card-6 .profile-overview p {
                color: rgba(255, 255, 255, 0.7);
            }

        .profile-card-6:hover img {
            filter: brightness(80%);
        }

        .profile-card-6:hover .profile-name {
            padding-left: 25px;
            padding-top: 20px;
        }

        .profile-card-6:hover .profile-position {
            left: 40px;
        }

        .profile-card-6:hover .profile-overview {
            padding-bottom: 25px;
        }

    .profile-card-7 {
        background-color: #FFF;
        border-radius: 5px;
        box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        position: relative;
        margin: 10px auto;
        cursor: pointer;
    }

        .profile-card-7 .profile-content {
            padding: 60px 30px 30px 30px;
            background-color: #FFF;
            position: relative;
        }

            .profile-card-7 .profile-content img {
                position: absolute;
                height: 80px;
                width: 80px;
                border-radius: 50%;
                top: -40px;
                border: 5px solid #FFF;
            }

            .profile-card-7 .profile-content .profile-name {
                position: absolute;
                font-size: 17px;
                font-weight: bold;
                top: -35px;
                left: 125px;
                color: #FFF;
            }

        .profile-card-7 .profile-overview {
            padding: 5px 0px;
        }

            .profile-card-7 .profile-overview p {
                color: #777;
                font-size: 11px;
                font-weight: 600;
            }

            .profile-card-7 .profile-overview h5 {
                color: #142437;
                font-weight: bold;
            }

    .profile-card-8 {
        background: linear-gradient(#09121c, #36445a);
        border-radius: 5px;
        box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        position: relative;
        margin: 10px auto;
        cursor: pointer;
        transition: all 0.25s linear;
    }

        .profile-card-8 .profile-name {
            position: absolute;
            left: 0px;
            right: 0px;
            top: 25px;
            color: #58d683;
            font-size: 17px;
            font-weight: bold;
        }

        .profile-card-8 .profile-designation {
            position: absolute;
            left: 0px;
            right: 0px;
            top: 50px;
            color: #FFF;
            font-size: 13px;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .profile-card-8 .profile-icons {
            position: absolute;
            left: 0px;
            right: 0px;
            top: 80px;
            color: rgba(255, 255, 255, 0.7);
        }

            .profile-card-8 .profile-icons .fa {
                margin: 5px;
            }

        .profile-card-8:hover {
            transform: scale(1.05, 1.05);
        }

    .profile-card-9 {
        border-radius: 10px;
        box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        position: relative;
        margin: 10px auto;
        cursor: pointer;
        padding: 30px 15px;
        background-color: #FFF;
        transition: all 0.25s linear;
    }

        .profile-card-9 img {
            height: 120px;
            width: 120px;
            border-radius: 50%;
            margin: 10px auto;
        }

        .profile-card-9 .profile-name {
            font-size: 15px;
            color: #3249b9;
            font-weight: 600;
        }

        .profile-card-9 .profile-designation {
            font-size: 13px;
            color: #777;
        }

        .profile-card-9 .profile-description {
            padding: 10px;
            font-size: 13px;
            color: #777;
            margin: 15px 0px;
            background-color: #F1F2F3;
            border-radius: 5px;
        }

        .profile-card-9 a {
            padding: 10px 15px;
            background-color: #3249b9;
            color: #FFF;
            font-size: 11px;
            border-radius: 25px;
        }

        .profile-card-9:hover {
            transform: scale(1.05, 1.05);
        }

    .profile-card-10 {
        border-radius: 5px;
        box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        position: relative;
        margin: 10px auto;
        cursor: pointer;
        padding: 30px 15px;
        background-color: #1f2124;
        color: #EEE;
    }

        .profile-card-10 img {
            margin: 10px auto;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 10px solid transparent;
            box-shadow: 0px 0px 0px 2px #64c17b;
            transition: all 0.25s linear;
        }

        .profile-card-10 .profile-name {
            color: #FFF;
            font-weight: bold;
            font-size: 17px;
        }

        .profile-card-10 .profile-location {
            font-size: 13px;
            opacity: 0.7;
        }

        .profile-card-10 .profile-description {
            padding: 10px;
            font-size: 13px;
        }

        .profile-card-10 .profile-icons .fa {
            color: #ffc75e;
            margin: 10px;
        }

        .profile-card-10:hover img {
            transform: scale(1.1);
        }
</style>
<div class="">

    <!-- Jumbotron -->@*https://mdbcdn.b-cdn.net/img/Photos/Others/forest2.webp*@
    <div class="card card-image" style="background-image: url('../../assets/images/gallery/2817288.jpg'); background-size: cover; ">
        <div class="text-black-50 text-center rgba-stylish-strong py-5 ">
            <div class="py-5">


                <!-- Content -->
                @*<h5 class="h5 orange-text"><i class="fas fa-camera-retro"></i> Photography</h5>*@
                <div class="fecha">
                    <span id="diaSemana" class="diaSemana"></span>
                    <span id="dia" class="dia"></span>
                    <span>de</span>
                    <span id="mes" class="mes"></span>
                    <span>del</span>
                    <span id="anio" class="anio"></span>

                    <div id="clock"></div>

                    <span class="mt-4 pb-2 px-md-5 mx-md-5">
                        Lo único imposible es aquello que no intentas !!!
                    </span>

                </div>

                @*<a class="btn peach-gradient"><i class="fas fa-clone left"></i> View project</a>*@
                <div class="row col-lg-12" style="padding-right:0.0rem">

                    <div class="col-lg-6" style="padding-right:0.0rem">                        
                        @{
                            var fecha_hora_movil = ViewBag.fecha_hora_salida.ToString();

                            if (!fecha_hora_movil.ToString().Equals(""))
                            {
                                <button type="button" id="registrarEntradaBtn" onclick="regasistencias()" class="btn btn-lg btn-dark col-12" disabled>Registrar Entrada</button>
                                <div class="alert alert-success" role="alert" id="alertEntrada" >
                                    <h4 class="alert-heading" style="font-size:3vw">Bien hecho!</h4>
                                    <p style="font-size:2vw">Ya has registrado tu hora de entrada.</p>
                                    <hr>
                                    <p class="mb-0" id="pFechaHoraEntrada" style="font-size:2vw">@ViewBag.fecha_hora_movil </p>
                                </div>
                            }
                            else
                            {
                                <button type="button" id="registrarEntradaBtn" onclick="regasistencias()" class="btn btn-lg btn-info col-12" >Registrar Entrada</button>
                                <div class="alert alert-success" role="alert" id="alertEntrada" style="display:none">
                                    <h4 class="alert-heading" style="font-size:3vw">Bien hecho!</h4>
                                    <p style="font-size:2vw">Ya has registrado tu hora de entrada.</p>
                                    <hr>
                                    <p class="mb-0" id="pFechaHoraEntrada" style="font-size:2vw">@ViewBag.fecha_hora_movil </p>
                                </div>
                            }

                         }                      
                    </div>
                    <div class="col-lg-6" style="padding-right:0.0rem">
                        @{ 
                            if (!ViewBag.fecha_hora_salida.ToString().Equals("") && !ViewBag.fecha_hora_salida.ToString().Equals("01/01/0001 12:00:00 a. m."))
                            {
                                <button type="button" id="registrarSalidaBtn" onclick="registrarSalida()" class="btn btn-lg btn-dark col-12" disabled>Registrar Salida</button>
                                <div class="alert alert-success" role="alert" id="alertSalida">
                                    <h4 class="alert-heading" style="font-size:3vw">Bien hecho!</h4>
                                    <p style="font-size:2vw"> Ya has registrado tu hora de salida.</p>
                                    <hr>
                                    <p class="mb-0" id="pFechaHoraSalida" style="font-size:2vw">@ViewBag.fecha_hora_salida</p>
                                </div> 
                            }
                            else
                            { 
                                <button type="button" id="registrarSalidaBtn" onclick="registrarSalida()" class="btn btn-lg btn-danger col-12">Registrar Salida</button>
                                <div class="alert alert-success" role="alert" id="alertSalida" style="display:none">
                                    <h4 class="alert-heading" style="font-size:3vw">Bien hecho!</h4>
                                    <p style="font-size:2vw"> Ya has registrado tu hora de salida.</p>
                                    <hr>
                                    <p class="mb-0" id ="pFechaHoraSalida" style="font-size:2vw">@ViewBag.fecha_hora_salida</p>
                                </div> 
                            }
                        }                       
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Jumbotron -->

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-Knob/1.2.13/jquery.knob.min.js"></script>

<script>

    function clock() {

        //Save the times in variables
        var today = new Date();

        var hours = today.getHours();
        var minutes = today.getMinutes();
        var seconds = today.getSeconds();

        //Set the AM or PM time
        if (hours >= 12) {
            meridiem = " PM";
        }
        else {
            meridiem = " AM";
        }

        //convert hours to 12 hour format and put 0 in front
        if (hours > 12) {
            hours = hours - 12;
        }
        else if (hours === 0) {
            hours = 12;
        }

        //Put 0 in front of single digit minutes and seconds
        if (minutes < 10) {
            minutes = "0" + minutes;
        }
        else {
            minutes = minutes;
        }

        if (seconds < 10) {
            seconds = "0" + seconds;
        }
        else {
            seconds = seconds;
        }

        document.getElementById("clock").innerHTML = (hours + ":" + minutes + ":" + seconds + meridiem);
    }

    setInterval('clock()', 1000);

    $(function () {
        var actualizarHora = function () {
            var fecha = new Date(),
                hora = fecha.getHours(),
                minutos = fecha.getMinutes(),
                segundos = fecha.getSeconds(),
                diaSemana = fecha.getDay(),
                dia = fecha.getDate(),
                mes = fecha.getMonth(),
                anio = fecha.getFullYear(),
                ampm;

            var $pHoras = $("#horas"),
                $pSegundos = $("#segundos"),
                $pMinutos = $("#minutos"),
                $pAMPM = $("#ampm"),
                $pDiaSemana = $("#diaSemana"),
                $pDia = $("#dia"),
                $pMes = $("#mes"),
                $pAnio = $("#anio");
            var semana = ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'];
            var meses = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];

            $pDiaSemana.text(semana[diaSemana]);
            $pDia.text(dia);
            $pMes.text(meses[mes]);
            $pAnio.text(anio);
            if (hora >= 12) {
                hora = hora - 12;
                ampm = "PM";
            } else {
                ampm = "AM";
            }
            if (hora == 0) {
                hora = 12;
            }
            if (hora < 10) { $pHoras.text("0" + hora) } else { $pHoras.text(hora) };
            if (minutos < 10) { $pMinutos.text("0" + minutos) } else { $pMinutos.text(minutos) };
            if (segundos < 10) { $pSegundos.text("0" + segundos) } else { $pSegundos.text(segundos) };
            $pAMPM.text(ampm);

        };


        actualizarHora();
        var intervalo = setInterval(actualizarHora, 1000);
    });
</script>


<script>
    var latitud = 0;
    var longitud = 0;

    if ("geolocation" in navigator) { 
        
        navigator.geolocation.getCurrentPosition(function (position) {
            latitud = position.coords.latitude;
            longitud = position.coords.longitude;
            console.log("Found your location nLat : " + position.coords.latitude + " nLang :" + position.coords.longitude);
            console.log("LATITUD: " + latitud + " - LONGITUD: " + longitud)
        });
    } else {
       // console.log("El explorador no soporta la geolocalizacion!");
    }


    function regasistencias() {
        //Probando obtener la hora del explorador desde javascript
        //var d = new Date().toLocaleTimeString(
        //    'es-MX',
        //    {
        //        hour12: false,
        //        hour: "numeric",
        //        minute: "numeric",
        //        second: "numeric"
        //    }
        //);
        

        var d = new Date().toLocaleString('es-MX')

        console.log("Hora del explorador: ");
        console.log(d);


        var control = {
                latitud: latitud,
                longitud: longitud,
                fecha_hora_movil: d,
                fecha_hora_registro: d,
                id_ingeniero: 0,
                fecha_hora_salida: '',
                s_latitud : 0,
                s_longitud :0
            };

            $.ajax({
                type: "POST",
                url: "@Url.Action("regasistencias", "Asistencia")",
                content: "application/json; charset=utf-8",
                dataType: "json",
                data: control,
                success: function (d) {
                    if (d) {

                        swal("Correcto.", "Asistencia registrada", "success");

                        var alert = document.getElementById("alertEntrada");
                        var registrarEntradaBtn = document.getElementById("registrarEntradaBtn");
                        var fechaEntrada= d;

                        registrarEntradaBtn.disabled = true;
                        document.getElementById("pFechaHoraEntrada").innerHTML = fechaEntrada;

                        if (alert.style.display === "none") {
                            alert.style.display = "block";
                        }
                    }
                },
                error: function (xhr, textStatus, errorThrown) {
                    alert('Error!!');
                }
            });

    }

    function registrarSalida() {

        var c = new Date().toLocaleDateString('es-MX');

        console.log("Hora del explorador: ");
        console.log(c);

        var control = {
                latitud: 0,
                longitud: 0,
                fecha_hora_movil: '',
                fecha_hora_registro: '',
                id_ingeniero: 0,
                fecha_hora_salida : c,
                s_latitud : latitud,
                s_longitud: longitud
            };
        console.log("COORDENADAS A ENVIAR");
        console.log(control);

            $.ajax({
                type: "POST",
                url: "@Url.Action("registraSalida", "Asistencia")",
                content: "application/json; charset=utf-8",
                dataType: "json",
                data: control,
                success: function (d) {
                    console.log(d);
                    if (d == 0) {
                        swal("Warning.", "No hay registro del dia de hoy. Asegurate que hayas registrado tu entrada primero!.", "info");
                    } else if (d == 1) {
                        swal("Correcto.", "Salida regtistrada", "success");

                        var alert = document.getElementById("alertSalida");
                        var registrarSalidaBtn = document.getElementById("registrarSalidaBtn");
                        var fechaSalida ='@DateTime.Now';

                        registrarEntradaBtn.disabled = true;
                        document.getElementById("pFechaHoraSalida").innerHTML = fechaSalida;

                        registrarSalidaBtn.disabled = true;

                        if (alert.style.display === "none") {
                            alert.style.display = "block";
                        }
                        //else {
                        //    x.style.display = "none";
                        //}

                    } else if (d == 2) {
                        swal("Error","Hubo un error al consultar la base de datos. Intenta mas tarde!", "error")
                    }
                },
                error: function (xhr, textStatus, errorThrown) {
                    alert('Error!!');
                }
            });

    }

</script>

